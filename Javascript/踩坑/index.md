<h1>前言</h1>
本文档主要用于记录学习Javascript过程中所踩到的坑


<h1>目录</h1>

* [1.作用域](#1)
    * [1.1 LHS 查询 & RHS 查询](#1.1)
    * [1.2 屏蔽效应](#1.2)
    * [1.3 欺骗词法](#1.3)
    
    
<h2 id="1">作用域</h2>

<h3 id="1.1">1.1 LHS 查询 & RHS 查询</h3>
当变量出现在赋值操作的左侧时进行LHS 查询，出现在右侧时进行RHS 查询
```javascript
function foo(a) {
var b = a;
return a + b;
}
var c = foo( 2 );
```
1. 找出所有的LHS 查询（这里有3 处！）
  c = ..;、a = 2（隐式变量分配）、b = ..
2. 找出所有的RHS 查询（这里有4 处！）
  foo(2..、= a;、a ..、.. b
  

<h3 id="1.2">1.2 屏蔽效应</h3>
作用域查找会在找到第一个匹配的标识符时停止。在多层的嵌套作用域中可以定义同名的
标识符，这叫作“遮蔽效应”
```javascript
var a = 5;
function fun() {
    var a = 3;
    console.log(a);         // a = 3;
    console.log(window.a);  // a = 5;
}
```
通过这种技术可以访问那些被同名变量所遮蔽的全局变量。但非全局的变量如果被遮蔽了，无论如何都无法被访问到。


<h3 id="1.3">1.3 欺骗词法</h3>
<p style="color:#ff8888">欺骗词法作用域会导致性能下降。建议不要使用</p>

```javascript
function foo(str, a) {
    //"use strict"; 
    //在严格模式下 eval(..) 在运行时有其自己的词法作用域
    eval( str ); // 欺骗！
    console.log( a, b );
}
var b = 2;
foo( "var b = 3;", 1 ); // 1, 3
```
JavaScript 中的eval(..) 函数可以接受一个字符串为参数，并将其中的内容视为好像在书
写时就存在于程序中这个位置的代码。换句话说，可以在你写的代码中用程序生成代码并
运行，就好像代码是写在那个位置的一样